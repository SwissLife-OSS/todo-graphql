@page "/todo"

<h2>Hey! Open Todo's: @Todos.Count(todo => !todo.IsDone)</h2>

You can create todo items with the mask below.

<div id="create-todo">
  <input id="create-todo-input" class="form-control" placeholder="What do you wanna do?" @bind="NewTodo" />
  <button id="create-todo-button" class="btn btn-primary" @onclick="AddTodo">Create todo</button>
</div>

<div id="todo-list">
  @foreach (var todo in Todos)
  {
      <div class="todo-items" id="@todo.Id">
        <input class="todo-items-checkbox" type="checkbox" @bind="todo.IsDone" />
        <input @bind="todo.Title" class="form-control todo-items-item @TodoItemCssClass(todo.IsDone)"/>
      </div>
  }
</div>

@code {
  private IList<TodoItem> Todos = new List<TodoItem>();
  private string NewTodo;
  private string TodoItemCssClass(bool isDone) => isDone ? "todo-items-item--completed" : "todo-items-item--active";

    private void AddTodo() {
      if(!string.IsNullOrWhiteSpace(NewTodo)) {
        Todos.Add(new TodoItem{Id = Guid.NewGuid(), Title = NewTodo});
        NewTodo = string.Empty;
      }
    }
}
